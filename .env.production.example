# Production .env for 167.71.74.220 — copy to .env and fill values.
# Required for docker-compose.prod.yml (Caddy)
DOMAIN=tsspro.tech

# Backend CORS: allow frontend origin (optional; backend default allows localhost)
# CORS_ORIGINS=https://tsspro.tech,http://localhost:8081,http://localhost:19006,http://localhost:19000

# PostgreSQL
POSTGRES_USER=smart_trainer
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=smart_trainer

# Gemini
GOOGLE_GEMINI_API_KEY=your_gemini_api_key
GEMINI_MODEL=gemini-2.0-flash

# Intervals.icu
INTERVALS_ICU_BASE_URL=https://intervals.icu/api/v1

# Generate: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=

# App — use strong random values in production. APP_ENV=production enables ENCRYPTION_KEY check
APP_ENV=production
SECRET_KEY=change_me_in_production
DEBUG=false

# JWT RS256 (recommended for production / multi-instance). If both set, access tokens use RS256.
# Generate: openssl genrsa -out private.pem 2048 && openssl rsa -in private.pem -pubout -out public.pem
# Paste PEM contents; in .env use \n for newlines inside the value.
# JWT_PRIVATE_KEY=
# JWT_PUBLIC_KEY=

# Optional: orchestrator cron hours (0-23, comma-separated)
# ORCHESTRATOR_CRON_HOURS=7,16

# PostgreSQL backup to S3 (required for prod backup container; Selectel or AWS)
S3_BACKUP_BUCKET=your-backup-bucket
S3_BACKUP_ACCESS_KEY=
S3_BACKUP_SECRET_KEY=
# S3_BACKUP_ENDPOINT=   # e.g. https://s3.selcdn.ru for Selectel; leave empty for AWS
# S3_BACKUP_PREFIX=backups/postgres/
# BACKUP_CRON_SCHEDULE=0 3 * * *
# BACKUP_RETENTION_DAYS=30
