# Smart Trainer MVP ‚Äî –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**–î–∞—Ç–∞:** 26 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** 0.1.0 (MVP)  
**–î–æ–º–µ–Ω:** tsspro.tech  
**–°–µ—Ä–≤–µ—Ä:** 167.71.74.220  

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#1-–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#2-–∞–Ω–∞–ª–∏–∑-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
3. [–ê–Ω–∞–ª–∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏](#3-–∞–Ω–∞–ª–∏–∑-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
4. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏](#4-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)
5. [–ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (UI/UX)](#5-–∞–Ω–∞–ª–∏–∑-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞-uiux)
6. [–ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#6-–∞–Ω–∞–ª–∏–∑-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
7. [–ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤ –∏ —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã](#7-–∞–Ω–∞–ª–∏–∑-—Å–∏—Å—Ç–µ–º–Ω—ã—Ö-–ø–æ—Ä—Ç–æ–≤-–∏-—Å–µ—Ç–µ–≤–æ–π-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
8. [–ê–Ω–∞–ª–∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è](#8-–∞–Ω–∞–ª–∏–∑-—Ç–µ—Å—Ç–æ–≤–æ–≥–æ-–ø–æ–∫—Ä—ã—Ç–∏—è)
9. [–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É](#9-–≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å-–∫-–ø—Ä–æ–¥–∞–∫—à–µ–Ω—É)
10. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é](#10-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—É–ª—É—á—à–µ–Ω–∏—é)
11. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏](#11-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-–º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏)
12. [–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (Roadmap)](#12-–¥–æ—Ä–æ–∂–Ω–∞—è-–∫–∞—Ä—Ç–∞-roadmap)

---

## 1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Smart Trainer (–ò–ò-–¢—Ä–µ–Ω–µ—Ä)** ‚Äî –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–µ MVP-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤, –æ–±—ä–µ–¥–∏–Ω—è—é—â–µ–µ:

- **AI-–∞–Ω–∞–ª–∏–∑ –ø–∏—Ç–∞–Ω–∏—è** –ø–æ —Ñ–æ—Ç–æ (Google Gemini Vision)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Intervals.icu** (wellness, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, —Å–æ–±—ã—Ç–∏—è)
- **–ó–∞–≥—Ä—É–∑–∫—É FIT-—Ñ–∞–π–ª–æ–≤** –∏ —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- **AI-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä** —Å 3-—É—Ä–æ–≤–Ω–µ–≤–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π (Go / Modify / Skip)
- **AI-—á–∞—Ç** —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º —Ç—Ä–µ–Ω–µ—Ä–æ–º
- **–†–∞—Å—á—ë—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏** (CTL / ATL / TSB)

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|-----------|
| Backend | Python 3.11, FastAPI 0.109+, SQLAlchemy 2.0 (async), Alembic |
| Frontend | React Native 0.76.3, Expo 52, TypeScript 5.3 |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | PostgreSQL 16 |
| AI | Google Gemini 2.0 Flash |
| –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | Docker Compose, Caddy (HTTPS), Nginx (static) |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | JWT + Refresh Tokens, bcrypt |

---

## 2. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 2.1 –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

- **–ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ**: backend (FastAPI) –∏ frontend (Expo) –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã, –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ REST API
- **Async-first**: –≤–µ—Å—å backend –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ async SQLAlchemy + asyncpg, —á—Ç–æ –¥–∞—ë—Ç —Ö–æ—Ä–æ—à—É—é –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker Compose –¥–ª—è dev –∏ prod, multi-stage build –¥–ª—è frontend
- **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î**: 14 Alembic-–º–∏–≥—Ä–∞—Ü–∏–π, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏—Ö –≤—Å—é —ç–≤–æ–ª—é—Ü–∏—é —Å—Ö–µ–º—ã
- **–ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤**: –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è Gemini, Intervals, –∫—Ä–∏–ø—Ç–æ, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- **–†–∞–∑—É–º–Ω—ã–π connection pool**: pool_size=10, max_overflow=20, pool_pre_ping, pool_recycle=1800

### 2.2 –°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ —Ä–∏—Å–∫–∏

| –ü—Ä–æ–±–ª–µ–º–∞ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-------------|----------|
| –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –±—ç–∫–µ–Ω–¥ | –°—Ä–µ–¥–Ω—è—è | –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –æ–¥–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ FastAPI. –ü—Ä–∏ —Ä–æ—Å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∏ AI-–≤—ã–∑–æ–≤—ã –±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö API |
| –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—á–µ—Ä–µ–¥–µ–π | –í—ã—Å–æ–∫–∞—è | AI-–∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ HTTP-–∑–∞–ø—Ä–æ—Å–µ (–¥–æ 90 —Å–µ–∫—É–Ω–¥). –ù–µ—Ç Celery/RQ/ARQ –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á |
| –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è | –°—Ä–µ–¥–Ω—è—è | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç Redis/Memcached ‚Äî –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–¥—ë—Ç –≤ PostgreSQL |
| –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞ | –í—ã—Å–æ–∫–∞—è | –û–¥–∏–Ω –∏–Ω—Å—Ç–∞–Ω—Å backend, –æ–¥–∏–Ω PostgreSQL –±–µ–∑ —Ä–µ–ø–ª–∏–∫ |
| –ù–µ—Ç API versioning –≤ URL | –ù–∏–∑–∫–∞—è | –ï—Å—Ç—å `/api/v1`, –Ω–æ –Ω–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ v2 |
| APScheduler –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ | –°—Ä–µ–¥–Ω—è—è | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ APScheduler –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ N –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –±—É–¥–µ—Ç N –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤ |

### 2.3 –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

1. **–í–Ω–µ–¥—Ä–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á** (ARQ + Redis –∏–ª–∏ Celery) –¥–ª—è AI-–≤—ã–∑–æ–≤–æ–≤, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ Intervals
2. **–î–æ–±–∞–≤–∏—Ç—å Redis** –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è wellness, nutrition day, athlete profile (TTL 60‚Äì300—Å)
3. **–í—ã–Ω–µ—Å—Ç–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä** –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π worker-–ø—Ä–æ—Ü–µ—Å—Å —Å distributed lock (Redis lock / PostgreSQL advisory lock)
4. **–î–æ–±–∞–≤–∏—Ç—å health check –¥–ª—è PostgreSQL** –≤ lifespan (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ Docker healthcheck)
5. **–†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å Event Sourcing** –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ wellness ‚Äî —É–ø—Ä–æ—Å—Ç–∏—Ç –∞—É–¥–∏—Ç –∏ replay

---

## 3. –ê–Ω–∞–ª–∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### 3.1 –ú–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ó–∞–º–µ—á–∞–Ω–∏—è |
|---------|--------|-----------|
| –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ email + –ø–∞—Ä–æ–ª—å | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ email (regex), –Ω–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã –ø–∞—Ä–æ–ª—è |
| –õ–æ–≥–∏–Ω | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ–ø—ã—Ç–æ–∫ (brute-force) |
| JWT Access Token | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –°—Ä–æ–∫: 7 –¥–Ω–µ–π ‚Äî –∏–∑–±—ã—Ç–æ—á–Ω–æ, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 15‚Äì60 –º–∏–Ω—É—Ç |
| Refresh Token (—Ä–æ—Ç–∞—Ü–∏—è) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –•–æ—Ä–æ—à–æ: —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ SHA256, –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π —Ç–æ–∫–µ–Ω |
| Endpoint `/me` | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç id –∏ email |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é email —á–µ—Ä–µ–∑ `email-validator` (Pydantic v2 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `EmailStr`)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É –ø–∞—Ä–æ–ª—è (8+ —Å–∏–º–≤–æ–ª–æ–≤)
- –£–º–µ–Ω—å—à–∏—Ç—å TTL access token –¥–æ 15‚Äì30 –º–∏–Ω—É—Ç (refresh token –æ–±–µ—Å–ø–µ—á–∏—Ç –±–µ—Å—à–æ–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- –î–æ–±–∞–≤–∏—Ç—å rate limit –Ω–∞ `/auth/login` –∏ `/auth/register` (–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ 200/–º–∏–Ω)
- –î–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç brute-force: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ—Å–ª–µ 5‚Äì10 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

### 3.2 –ú–æ–¥—É–ª—å –ø–∏—Ç–∞–Ω–∏—è (Nutrition)

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ó–∞–º–µ—á–∞–Ω–∏—è |
|---------|--------|-----------|
| –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ Gemini | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü—Ä–æ–≤–µ—Ä–∫–∞ magic bytes, resize, –ª–∏–º–∏—Ç 10 –ú–ë |
| –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤—Ä—É—á–Ω—É—é | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞ –¥–µ–Ω—å | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | UTC-–≥—Ä–∞–Ω–∏—Ü—ã –¥–Ω—è |
| –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |
| –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ç–æ (S3/MinIO) –¥–ª—è –ø–µ—Ä–µ—Å—á—ë—Ç–∞ –∏ –∞—É–¥–∏—Ç–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª—é–¥ –Ω–∞ –æ–¥–Ω–æ–º —Ñ–æ—Ç–æ)
- –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π (audit log) –¥–ª—è –∑–∞–ø–∏—Å–µ–π –ø–∏—Ç–∞–Ω–∏—è
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –¥–Ω–µ–≤–Ω—ã–µ –∏—Ç–æ–≥–∏ (totals) ‚Äî —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Å –¥–∞—à–±–æ—Ä–¥–∞

### 3.3 –ú–æ–¥—É–ª—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (Workouts)

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ó–∞–º–µ—á–∞–Ω–∏—è |
|---------|--------|-----------|
| –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |
| –ó–∞–≥—Ä—É–∑–∫–∞ FIT | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ checksum |
| –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –§–∏–ª—å—Ç—Ä –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç |
| CTL/ATL/TSB —Ä–∞—Å—á—ë—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü–æ TSS –∏–∑ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ |
| –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |
| –£–¥–∞–ª–µ–Ω–∏–µ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ HR-–∑–æ–Ω –∏–∑ FIT-—Ñ–∞–π–ª–æ–≤ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é CTL/ATL/TSB –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–∏–∫–∞ (Performance Management Chart)
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ FIT-–¥–∞–Ω–Ω—ã–º
- –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –º–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç FIT-—Ñ–∞–π–ª–æ–≤

### 3.4 AI-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ó–∞–º–µ—á–∞–Ω–∏—è |
|---------|--------|-----------|
| 3-—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Level 1: Readiness, Level 2: Load, Level 3: Polarised |
| –†–µ—à–µ–Ω–∏–µ Go/Modify/Skip | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |
| –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —á–∞—Å—ã |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Intervals | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–ª–∞–Ω–∞ –ø—Ä–∏ Modify |
| –ó–∞–ø–∏—Å—å –≤ —á–∞—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü—Ä–∏ Modify/Skip |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ä–µ—à–µ–Ω–∏–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞) –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å feedback-loop: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ (—Ç–æ—á–Ω–æ–µ/–Ω–µ—Ç–æ—á–Ω–æ–µ)
- –î–æ–±–∞–≤–∏—Ç—å —É—á—ë—Ç —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è (RPE) –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –¥–Ω—è (—á—Ç–æ–±—ã –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –Ω–µ —Ç—Ä–∞—Ç–∏–ª Gemini-—Ç–æ–∫–µ–Ω—ã)

### 3.5 AI-—á–∞—Ç

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ó–∞–º–µ—á–∞–Ω–∏—è |
|---------|--------|-----------|
| –ü–æ—Ç–æ–∫–∏ (threads) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –°–æ–∑–¥–∞–Ω–∏–µ, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ |
| –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –î–æ 50 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö |
| –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |
| –û—Ç–ø—Ä–∞–≤–∫–∞ FIT + —Ç–µ–∫—Å—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –° –æ–ø—Ü–∏–µ–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –¥–Ω–µ–≤–Ω–∏–∫ |
| –û—á–∏—Å—Ç–∫–∞ —á–∞—Ç–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å streaming –æ—Ç–≤–µ—Ç–æ–≤ (SSE/WebSocket) –¥–ª—è UX
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–∫–Ω–æ: –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ Gemini –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å–æ–æ–±—â–µ–Ω–∏–π + –ø—Ä–æ—Ñ–∏–ª—å –∞—Ç–ª–µ—Ç–∞
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–ª–∏–Ω—É —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ maxLength=2000 –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ)
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π (text, decision, workout_analysis)

### 3.6 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Intervals.icu

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ó–∞–º–µ—á–∞–Ω–∏—è |
|---------|--------|-----------|
| –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (link) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ API-–∫–ª—é—á–∞ |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Activities + Wellness, —Ç–∞–π–º–∞—É—Ç 120—Å |
| –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |
| –û—Ç–∫–ª—é—á–µ–Ω–∏–µ (unlink) | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å webhook-–ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–≤–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ pull)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é (last_sync_date) –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ range
- –î–æ–±–∞–≤–∏—Ç—å retry —Å exponential backoff –ø—Ä–∏ —Å–±–æ—è—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –¥–∞—Ç—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–∞ UI

### 3.7 Wellness

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –ó–∞–º–µ—á–∞–Ω–∏—è |
|---------|--------|-----------|
| –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Å–Ω–∞/RHR/HRV | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | |
| –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–Ω–∞ –∏–∑ —Ñ–æ—Ç–æ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Gemini-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ñ–æ—Ç–æ |
| –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–∑ Intervals | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø—É—Å—Ç—ã–µ –ø–æ–ª—è |

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å wearables (Apple Health, Google Fit, Garmin Connect) —á–µ—Ä–µ–∑ Health Connect API
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—Ä–µ–Ω–¥–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ wellness (–≥—Ä–∞—Ñ–∏–∫–∏ –∑–∞ 7/30/90 –¥–Ω–µ–π)
- –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è—Ö (RHR –≤—ã—à–µ –Ω–æ—Ä–º—ã, HRV –Ω–∏–∂–µ –±–∞–∑–æ–≤–æ–π –ª–∏–Ω–∏–∏)

---

## 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### 4.1 –ú–∞—Ç—Ä–∏—Ü–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

| # | –°—Ü–µ–Ω–∞—Ä–∏–π | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
|---|----------|---------------------|--------|
| A-1 | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–Ω—ã–º email –∏ –ø–∞—Ä–æ–ª–µ–º | 200, access_token + refresh_token | ‚úÖ |
| A-2 | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º email | 400, "Email already registered" | ‚úÖ |
| A-3 | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø—É—Å—Ç—ã–º email | 400, "Email and password required" | ‚úÖ |
| A-4 | –õ–æ–≥–∏–Ω —Å –≤–µ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ | 200, tokens + user | ‚úÖ |
| A-5 | –õ–æ–≥–∏–Ω —Å –Ω–µ–≤–µ—Ä–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º | 401, "Invalid email or password" | ‚úÖ |
| A-6 | –î–æ—Å—Ç—É–ø –∫ /me –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ | 401, "Not authenticated" | ‚úÖ |
| A-7 | Refresh —Å –≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º | 200, –Ω–æ–≤—ã–µ tokens | ‚úÖ |
| A-8 | Refresh —Å –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º | 401 | ‚úÖ |
| A-9 | –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ refresh-—Ç–æ–∫–µ–Ω–∞ | 401 (—Ä–æ—Ç–∞—Ü–∏—è ‚Äî —Å—Ç–∞—Ä—ã–π —É–¥–∞–ª—ë–Ω) | ‚úÖ |
| A-10 | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å email –±–µ–∑ @ | ‚ö†Ô∏è –ü—Ä–æ—Ö–æ–¥–∏—Ç ‚Äî –Ω–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ | –ë–∞–≥ |
| A-11 | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø–∞—Ä–æ–ª–µ–º –≤ 1 —Å–∏–º–≤–æ–ª | ‚ö†Ô∏è –ü—Ä–æ—Ö–æ–¥–∏—Ç ‚Äî –Ω–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã | –ë–∞–≥ |

#### –ü–∏—Ç–∞–Ω–∏–µ

| # | –°—Ü–µ–Ω–∞—Ä–∏–π | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
|---|----------|---------------------|--------|
| N-1 | –ó–∞–≥—Ä—É–∑–∫–∞ JPEG —Ñ–æ—Ç–æ –µ–¥—ã | 200, JSON —Å name, calories, macros | ‚úÖ |
| N-2 | –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | 400, "File must be an image" | ‚úÖ |
| N-3 | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ > 10 –ú–ë | 400, "Image too large" | ‚úÖ |
| N-4 | –ó–∞–≥—Ä—É–∑–∫–∞ –ø—É—Å—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ | 400, "File is empty or invalid" | ‚úÖ |
| N-5 | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —Å –ø–æ–¥–¥–µ–ª—å–Ω—ã–º content-type | 400, –ø—Ä–æ–≤–µ—Ä–∫–∞ magic bytes | ‚úÖ |
| N-6 | –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –∑–∞ –¥–∞—Ç—É | 200, entries + totals | ‚úÖ |
| N-7 | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á—É–∂–æ–π –∑–∞–ø–∏—Å–∏ | 404, "Entry not found" | ‚úÖ |
| N-8 | –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤—Ä—É—á–Ω—É—é | 200, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ | ‚úÖ |
| N-9 | –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ | 200, "deleted" | ‚úÖ |

#### –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

| # | –°—Ü–µ–Ω–∞—Ä–∏–π | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
|---|----------|---------------------|--------|
| W-1 | –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –≤—Ä—É—á–Ω—É—é | 200 | ‚úÖ |
| W-2 | –ó–∞–≥—Ä—É–∑–∫–∞ FIT-—Ñ–∞–π–ª–∞ | 200, parsed workout | ‚úÖ |
| W-3 | –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≥–æ –∂–µ FIT | 409, –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ checksum | ‚úÖ |
| W-4 | –ü–æ–ª—É—á–µ–Ω–∏–µ CTL/ATL/TSB | 200, —Ä–∞—Å—á—ë—Ç –ø–æ TSS | ‚úÖ |
| W-5 | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∑–∞ –¥–∏–∞–ø–∞–∑–æ–Ω | 200, —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ | ‚úÖ |

#### –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

| # | –°—Ü–µ–Ω–∞—Ä–∏–π | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
|---|----------|---------------------|--------|
| O-1 | –ó–∞–ø—É—Å–∫ —Å –¥–∞–Ω–Ω—ã–º–∏ wellness + —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ | 200, decision (Go/Modify/Skip) | ‚úÖ |
| O-2 | –ó–∞–ø—É—Å–∫ –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö wellness | Modify –∏–ª–∏ Skip ("insufficient data") | ‚úÖ |
| O-3 | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç Gemini | Skip —Å "Parse error" | ‚úÖ |
| O-4 | –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç Gemini | Skip —Å "No AI response" | ‚úÖ |

#### Intervals.icu

| # | –°—Ü–µ–Ω–∞—Ä–∏–π | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –°—Ç–∞—Ç—É—Å |
|---|----------|---------------------|--------|
| I-1 | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –≤–∞–ª–∏–¥–Ω—ã–º athlete_id + API key | 200, linked | ‚úÖ |
| I-2 | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è | 200, activities_synced + wellness_days_synced | ‚úÖ |
| I-3 | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ | 200, linked: true/false | ‚úÖ |
| I-4 | –û—Ç–∫–ª—é—á–µ–Ω–∏–µ | 200, unlinked | ‚úÖ |

### 4.2 –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| # | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|-----------|-------------|----------|
| BUG-1 | Auth | –°—Ä–µ–¥–Ω—è—è | –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞ email ‚Äî –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ @, –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ —Å –ø—Ä–æ–±–µ–ª–∞–º–∏ |
| BUG-2 | Auth | –°—Ä–µ–¥–Ω—è—è | –ù–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã –ø–∞—Ä–æ–ª—è ‚Äî –º–æ–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –ø–∞—Ä–æ–ª–µ–º "1" |
| BUG-3 | Nutrition | –ù–∏–∑–∫–∞—è | `datetime.utcnow()` deprecated –≤ Python 3.12+ ‚Äî —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `datetime.now(timezone.utc)` |
| BUG-4 | Orchestrator | –ù–∏–∑–∫–∞—è | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–∏ –æ—à–∏–±–∫–µ Intervals API –º–æ–ª—á–∞ –ø—Ä–æ–≥–ª–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ (bare `except: pass`) ‚Äî –Ω–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è |
| BUG-5 | Chat | –°—Ä–µ–¥–Ω—è—è | –ù–µ—Ç –ª–∏–º–∏—Ç–∞ –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –±—ç–∫–µ–Ω–¥–µ ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π DoS —á–µ—Ä–µ–∑ –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è |
| BUG-6 | Crypto | –í—ã—Å–æ–∫–∞—è | –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ENCRYPTION_KEY —Ç–æ–∫–µ–Ω—ã Intervals —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ plaintext ‚Äî –≤ dev –¥–æ–ø—É—Å—Ç–∏–º–æ, –≤ prod –∫—Ä–∏—Ç–∏—á–Ω–æ |
| BUG-7 | Security | –°—Ä–µ–¥–Ω—è—è | –î–µ—Ñ–æ–ª—Ç–Ω—ã–π SECRET_KEY = "change-me-in-production" ‚Äî –µ—Å–ª–∏ –Ω–µ —Å–º–µ–Ω–∏—Ç—å, JWT –ø–æ–¥–ø–∏—Å–∏ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω—ã |

---

## 5. –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (UI/UX)

### 5.1 –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û—Ü–µ–Ω–∫–∞ (1-10) | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|----------|---------------|-------------|
| –í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω | 7/10 | –¢—ë–º–Ω–∞—è —Ç–µ–º–∞, –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ (#1a1a2e, #16213e, #38bdf8) |
| –ù–∞–≤–∏–≥–∞—Ü–∏—è | 6/10 | Stack + Bottom Tabs, –Ω–æ –Ω–µ—Ç breadcrumbs –∏ back navigation –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö |
| –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ | 7/10 | –ß–∏—Ç–∞–µ–º—ã–µ —Ä–∞–∑–º–µ—Ä—ã, –Ω–æ –Ω–µ—Ç —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏ (Design Tokens) |
| –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y) | 3/10 | –ù–µ—Ç accessibilityLabel, –Ω–∏–∑–∫–∏–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –Ω–∞ hint-—Ç–µ–∫—Å—Ç–∞—Ö |
| –û—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å | 7/10 | Pull-to-refresh, loading states, skeleton |
| –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è | 6/10 | maxWidth: 960 –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ, –Ω–æ –Ω–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö breakpoints |
| –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è | 5/10 | –ï—Å—Ç—å i18n, –Ω–æ —Å–º–µ—à–∞–Ω—ã —Ä—É—Å—Å–∫–∏–µ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ |

### 5.2 –≠–∫—Ä–∞–Ω Dashboard

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∞—è —Å–≤–æ–¥–∫–∞ –¥–Ω—è: –ø–∏—Ç–∞–Ω–∏–µ, wellness, —Ñ–∏—Ç–Ω–µ—Å, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- Progress bars –¥–ª—è –º–∞–∫—Ä–æ–Ω—É—Ç—Ä–∏–µ–Ω—Ç–æ–≤
- FAB-–∫–Ω–æ–ø–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–º–µ—Ä–µ
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º –≤ —Å–µ–∫—Ü–∏–∏ –ø–∏—Ç–∞–Ω–∏—è
- Skeleton loading –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –≠–∫—Ä–∞–Ω –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—Ç—å –¥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ —á–∞—Ç–∞
- –ñ—ë—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ü–µ–ª–∏ –ø–∏—Ç–∞–Ω–∏—è (CALORIE_GOAL=2200, PROTEIN_GOAL=120) –∫–∞–∫ fallback
- –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö (—Ä—É—á–Ω–æ–π –≤–≤–æ–¥ vs. Intervals vs. FIT)
- –ö–Ω–æ–ø–∫–∞ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑" –Ω–µ –æ–±—ä—è—Å–Ω—è–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç
- –°–º–µ—à–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤: "Edit entry", "Dish name" —Ä—è–¥–æ–º —Å "–û—à–∏–±–∫–∞", "–£–¥–∞–ª–∏—Ç—å"
- –ù–µ—Ç –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (empty state) —Å –∫—Ä–∞—Å–∏–≤–æ–π –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–µ–π ‚Äî —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –†–∞–∑–¥–µ–ª–∏—Ç—å Dashboard –Ω–∞ —Å–µ–∫—Ü–∏–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å
- –î–æ–±–∞–≤–∏—Ç—å Weekly Summary card —Å–≤–µ—Ä—Ö—É
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å onboarding: –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω, –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä—É—Å—Å–∫–∏–π –∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ (FadeIn, SlideUp)
- –î–æ–±–∞–≤–∏—Ç—å pull-to-refresh –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å —Ç–µ–∫—Å—Ç–æ–º "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ..."

### 5.3 –≠–∫—Ä–∞–Ω Login/Register

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- –ü—Ä–æ—Å—Ç–æ–π –∏ —á–∏—Å—Ç—ã–π –¥–∏–∑–∞–π–Ω
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª–µ–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –Ø—Å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å–∏–ª—ã –ø–∞—Ä–æ–ª—è
- –ù–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?"
- –ù–µ—Ç OAuth-–≤—Ö–æ–¥–∞ (Google/Apple)
- –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ branding (–ª–æ–≥–æ—Ç–∏–ø, –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å branding: –ª–æ–≥–æ—Ç–∏–ø + –∫–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤—Ö–æ–¥–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?" (email reset flow)
- –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–ª—ã –ø–∞—Ä–æ–ª—è
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å Social Login (Google, Apple) –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –±–∞—Ä—å–µ—Ä–∞ –≤—Ö–æ–¥–∞

### 5.4 –≠–∫—Ä–∞–Ω Chat

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- –ü—É–∑—ã—Ä—å–∫–æ–≤—ã–π –¥–∏–∑–∞–π–Ω —Å–æ–æ–±—â–µ–Ω–∏–π
- –í–∫–ª–∞–¥–∫–∏ –ø–æ—Ç–æ–∫–æ–≤ (threads)
- –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–Ω–æ–ø–∫–∞ "–†–µ—à–µ–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è"

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –Ω–∞–±–æ—Ä–∞ —Ç–µ–∫—Å—Ç–∞ (typing indicator) –æ—Ç AI
- –°–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –∏–º–µ—é—Ç —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ (sent/delivered/read)
- FIT-—Ñ–∞–π–ª –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è –±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–≤—å—é
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç
- –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- `keyExtractor={(_, i) => String(i)}` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –∫–∞–∫ –∫–ª—é—á–∞ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–æ–±–∞–≤–∏—Ç—å typing indicator (—Ç—Ä–∏ –º–∏–≥–∞—é—â–∏–µ —Ç–æ—á–∫–∏) –ø—Ä–∏ –æ–∂–∏–¥–∞–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞ AI
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Markdown-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ—Ç–≤–µ—Ç–æ–≤ AI (—Ç–∞–±–ª–∏—Ü—ã, —Å–ø–∏—Å–∫–∏, –≤—ã–¥–µ–ª–µ–Ω–∏–µ)
- –î–æ–±–∞–≤–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Üí –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID –∏–ª–∏ timestamp –¥–ª—è keyExtractor –≤–º–µ—Å—Ç–æ –∏–Ω–¥–µ–∫—Å–∞
- –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

### 5.5 –≠–∫—Ä–∞–Ω Camera

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–º–µ—Ä—ã –∏ –≥–∞–ª–µ—Ä–µ–∏
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–∞ —Ñ–æ—Ç–æ (food/sleep/wellness)
- –ü—Ä–µ–≤—å—é –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Ç –∫–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏—è/–ø–æ–≤–æ—Ä–æ—Ç–∞ —Ñ–æ—Ç–æ
- –ù–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å –±–ª—é–¥–æ
- Dev log panel –≤–∏–¥–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –¥–µ–±–∞–≥–µ

---

## 6. –ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 6.1 –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

| –ê—Å–ø–µ–∫—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|--------|--------|--------|
| –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π | ‚úÖ –•–æ—Ä–æ—à–æ | bcrypt —Å gensalt(), –æ–±—Ä–µ–∑–∫–∞ –¥–æ 72 –±–∞–π—Ç |
| JWT | ‚ö†Ô∏è –°—Ä–µ–¥–Ω–µ | HS256 (—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–π) ‚Äî –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è single-server, –Ω–æ RS256 –ª—É—á—à–µ –¥–ª—è distributed |
| Refresh Token —Ä–æ—Ç–∞—Ü–∏—è | ‚úÖ –•–æ—Ä–æ—à–æ | –û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π, SHA256-—Ö–µ—à –≤ –ë–î, —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ |
| Token expiry | ‚ö†Ô∏è –°–ª–∞–±–æ | Access token = 7 –¥–Ω–µ–π ‚Äî —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ |
| Brute-force –∑–∞—â–∏—Ç–∞ | ‚ùå –ù–µ—Ç | –ù–µ—Ç rate limit –Ω–∞ login, –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ |
| –í–∞–ª–∏–¥–∞—Ü–∏—è input | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ email —Ñ–æ—Ä–º–∞—Ç–∞, –Ω–µ—Ç min password length |
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ—Å—É—Ä—Å–æ–≤ | ‚úÖ –•–æ—Ä–æ—à–æ | –ü—Ä–æ–≤–µ—Ä–∫–∞ `entry.user_id != user.id` –≤–æ –≤—Å–µ—Ö CRUD |

### 6.2 –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤

| –ê—Å–ø–µ–∫—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|--------|--------|--------|
| –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ API-–∫–ª—é—á–µ–π Intervals | ‚úÖ/‚ö†Ô∏è | Fernet ‚Äî —Ö–æ—Ä–æ—à–æ, –Ω–æ plaintext fallback –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ENCRYPTION_KEY |
| –•—Ä–∞–Ω–µ–Ω–∏–µ SECRET_KEY | ‚ö†Ô∏è | –î–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ "change-me-in-production" ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–∏ –∑–∞–±—ã–≤—á–∏–≤–æ—Å—Ç–∏ |
| .env –≤ .gitignore | ‚úÖ | –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ |
| HTTPS | ‚úÖ | Caddy —Å Let's Encrypt –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ |

### 6.3 –ó–∞—â–∏—Ç–∞ API

| –ê—Å–ø–µ–∫—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|--------|--------|--------|
| Rate Limiting | ‚úÖ –ï—Å—Ç—å | 200/–º–∏–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ (slowapi) ‚Äî –Ω–æ –Ω–µ—Ç per-endpoint –ª–∏–º–∏—Ç–æ–≤ |
| CORS | ‚ö†Ô∏è | –í dev –º–æ–∂–µ—Ç –±—ã—Ç—å "*", –≤ prod –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è ‚Äî –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å prod |
| Security Headers | ‚úÖ –•–æ—Ä–æ—à–æ | X-Content-Type-Options, X-Frame-Options, Referrer-Policy, HSTS (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |
| File Upload –≤–∞–ª–∏–¥–∞—Ü–∏—è | ‚úÖ –•–æ—Ä–æ—à–æ | Magic bytes check, content-type check, size limit 10MB |
| SQL Injection | ‚úÖ –ó–∞—â–∏—â–µ–Ω–æ | SQLAlchemy ORM —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ |
| XSS | ‚úÖ –ó–∞—â–∏—â–µ–Ω–æ | JSON API, React auto-escaping, –Ω–µ—Ç HTML rendering |
| CSRF | ‚úÖ –ù–µ–ø—Ä–∏–º–µ–Ω–∏–º–æ | –¢–æ–∫–µ–Ω-based API (–Ω–µ cookie-based sessions) |

### 6.4 –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

| –ê—Å–ø–µ–∫—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|--------|--------|--------|
| PostgreSQL –ø–æ—Ä—Ç | ‚ö†Ô∏è | –í dev compose –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è 5432 ‚Äî –≤ prod –∑–∞–∫—Ä—ã—Ç ‚úÖ |
| Docker —Å–µ–∫—Ä–µ—Ç—ã | ‚ö†Ô∏è | –ü–∞—Ä–æ–ª–∏ —á–µ—Ä–µ–∑ env_file, –Ω–µ —á–µ—Ä–µ–∑ Docker Secrets ‚Äî –¥–æ–ø—É—Å—Ç–∏–º–æ –¥–ª—è MVP |
| Backend –ø–æ—Ä—Ç | ‚ö†Ô∏è | –í dev compose –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è 8000 ‚Äî –≤ prod –∑–∞–∫—Ä—ã—Ç ‚úÖ |
| Caddy HTTPS | ‚úÖ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π TLS, Let's Encrypt |
| Logging | ‚ö†Ô∏è | –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ stdout ‚Äî –Ω–µ—Ç centralized logging |

### 6.5 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **[–ö–†–ò–¢–ò–ß–ù–û]** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `ENCRYPTION_KEY` –∏ `SECRET_KEY` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –≤ production
2. **[–ö–†–ò–¢–ò–ß–ù–û]** –£–º–µ–Ω—å—à–∏—Ç—å TTL access token –¥–æ 15‚Äì30 –º–∏–Ω—É—Ç
3. **[–í–´–°–û–ö–û]** –î–æ–±–∞–≤–∏—Ç—å rate limit –Ω–∞ `/auth/login` (5 –ø–æ–ø—ã—Ç–æ–∫/–º–∏–Ω) –∏ `/auth/register` (3/–º–∏–Ω)
4. **[–í–´–°–û–ö–û]** –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é email –∏ min password length –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
5. **[–í–´–°–û–ö–û]** –î–æ–±–∞–≤–∏—Ç—å account lockout –ø–æ—Å–ª–µ N –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
6. **[–°–†–ï–î–ù–ï]** –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ RS256 –¥–ª—è JWT –ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ multi-instance deployment
7. **[–°–†–ï–î–ù–ï]** –î–æ–±–∞–≤–∏—Ç—å audit log –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
8. **[–°–†–ï–î–ù–ï]** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å logout endpoint, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç refresh token
9. **[–ù–ò–ó–ö–û]** –î–æ–±–∞–≤–∏—Ç—å CSP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –≤–µ–±-–≤–µ—Ä—Å–∏–∏
10. **[–ù–ò–ó–ö–û]** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å password change endpoint

---

## 7. –ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤ –∏ —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### 7.1 –ö–∞—Ä—Ç–∞ –ø–æ—Ä—Ç–æ–≤

#### Development (docker-compose.yml + override)

| –ü–æ—Ä—Ç | –°–µ—Ä–≤–∏—Å | –î–æ—Å—Ç—É–ø | –†–∏—Å–∫ |
|------|--------|--------|------|
| 80 | Frontend (Nginx) | –•–æ—Å—Ç ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä | –ù–æ—Ä–º–∞ –¥–ª—è dev |
| 8000 | Backend (Uvicorn) | –•–æ—Å—Ç ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä | –ù–æ—Ä–º–∞ –¥–ª—è dev, –Ω–æ –Ω–µ –Ω—É–∂–µ–Ω –µ—Å–ª–∏ –µ—Å—Ç—å nginx proxy |
| 5432 | PostgreSQL | –•–æ—Å—Ç ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä | ‚ö†Ô∏è –î–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ ‚Äî —É–±—Ä–∞—Ç—å –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤ prod |

#### Production (docker-compose.prod.yml)

| –ü–æ—Ä—Ç | –°–µ—Ä–≤–∏—Å | –î–æ—Å—Ç—É–ø | –°—Ç–∞—Ç—É—Å |
|------|--------|--------|--------|
| 80 | Caddy (HTTP ‚Üí HTTPS redirect) | –í–Ω–µ—à–Ω–∏–π | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ |
| 443 | Caddy (HTTPS) | –í–Ω–µ—à–Ω–∏–π | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ |
| 8000 | Backend | –¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏—Å–µ—Ç—å Docker | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ |
| 80 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π) | Frontend Nginx | –¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏—Å–µ—Ç—å Docker | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ |
| 5432 | PostgreSQL | ‚ùå –ó–∞–∫—Ä—ã—Ç (ports: []) | ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ |

### 7.2 –°–µ—Ç–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Production

```
–ò–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Üí :443 Caddy (TLS) ‚Üí :80 Frontend (Nginx)
                                  ‚îî‚Üí /api/* ‚Üí :8000 Backend (Uvicorn)
                                                ‚îî‚Üí :5432 PostgreSQL (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–µ—Ç—å)
                                                ‚îî‚Üí intervals.icu API (–≤–Ω–µ—à–Ω–∏–π)
                                                ‚îî‚Üí Gemini API (–≤–Ω–µ—à–Ω–∏–π)
```

### 7.3 –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ

1. **–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ Docker networks** (frontend, backend, db) —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –¥–æ—Å—Ç—É–ø–∞:
   - Frontend ‚Üí Backend (—á–µ—Ä–µ–∑ API)
   - Backend ‚Üí PostgreSQL
   - Frontend –ù–ï –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ PostgreSQL
2. **–î–æ–±–∞–≤–∏—Ç—å firewall –ø—Ä–∞–≤–∏–ª–∞** –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ö–æ—Å—Ç–∞ (ufw/iptables):
   - –†–∞–∑—Ä–µ—à–∏—Ç—å: 22 (SSH), 80 (HTTP), 443 (HTTPS)
   - –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ
3. **–£–±—Ä–∞—Ç—å –ø—Ä–æ–±—Ä–æ—Å 5432 –∏ 8000** –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ docker-compose.yml (–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ override –¥–ª—è dev)
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Caddy rate limit** –Ω–∞ —É—Ä–æ–≤–Ω–µ reverse proxy
5. **–î–æ–±–∞–≤–∏—Ç—å fail2ban** –¥–ª—è SSH –∏ HTTP

### 7.4 –¢–∞–π–º–∞—É—Ç—ã

| –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ | –¢–µ–∫—É—â–∏–π —Ç–∞–π–º–∞—É—Ç | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|------------|-----------------|--------------|
| Gemini API | 90—Å | ‚úÖ –ê–¥–µ–∫–≤–∞—Ç–Ω–æ –¥–ª—è AI |
| Intervals API sync | 120—Å | ‚úÖ –ê–¥–µ–∫–≤–∞—Ç–Ω–æ –¥–ª—è batch |
| Nginx ‚Üí Backend proxy | 300—Å | ‚ö†Ô∏è –ò–∑–±—ã—Ç–æ—á–Ω–æ ‚Äî 120—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| Caddy ‚Üí Frontend | 300—Å | ‚ö†Ô∏è –ò–∑–±—ã—Ç–æ—á–Ω–æ ‚Äî 60—Å –¥–ª—è static –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| HTTP client default | 30—Å | ‚úÖ –ù–æ—Ä–º–∞ |
| DB pool_recycle | 1800—Å | ‚úÖ –•–æ—Ä–æ—à–æ |

---

## 8. –ê–Ω–∞–ª–∏–∑ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è

### 8.1 –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

| –¢–µ—Å—Ç | –ü–æ–∫—Ä—ã—Ç–∏–µ | –¢–∏–ø |
|------|----------|-----|
| test_image_resize.py | Image resize service | Unit |
| test_orchestrator.py | Decision parsing, LLM response | Unit |
| test_load_metrics.py | CTL/ATL/TSB computation | Unit |

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: ~5% –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã**

### 8.2 –ß—Ç–æ –ù–ï –ø–æ–∫—Ä—ã—Ç–æ —Ç–µ—Å—Ç–∞–º–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å –Ω–µ–ø–æ–∫—Ä—ã—Ç–∏—è |
|-----------|----------------------|
| API endpoints (auth, nutrition, workouts, wellness, chat) | ‚ùå –í–´–°–û–ö–ê–Ø |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini (mock-—Ç–µ—Å—Ç—ã) | ‚ùå –í–´–°–û–ö–ê–Ø |
| Intervals.icu –∫–ª–∏–µ–Ω—Ç | ‚ùå –°–†–ï–î–ù–Ø–Ø |
| Crypto service (encrypt/decrypt) | ‚ùå –°–†–ï–î–ù–Ø–Ø |
| Database migrations | ‚ùå –°–†–ï–î–ù–Ø–Ø |
| FIT parser | ‚ùå –°–†–ï–î–ù–Ø–Ø |
| Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | ‚ùå –í–´–°–û–ö–ê–Ø |
| E2E —Å—Ü–µ–Ω–∞—Ä–∏–∏ | ‚ùå –í–´–°–û–ö–ê–Ø |

### 8.3 –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: API-—Ç–µ—Å—Ç—ã (backend)

```
tests/
‚îú‚îÄ‚îÄ conftest.py          # –§–∏–∫—Å—Ç—É—Ä—ã: test DB, client, auth headers
‚îú‚îÄ‚îÄ test_auth.py         # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, refresh, me
‚îú‚îÄ‚îÄ test_nutrition.py    # CRUD, upload photo (mock Gemini)
‚îú‚îÄ‚îÄ test_workouts.py     # CRUD, FIT upload, fitness
‚îú‚îÄ‚îÄ test_wellness.py     # CRUD, upsert
‚îú‚îÄ‚îÄ test_chat.py         # Threads, messages, orchestrator
‚îú‚îÄ‚îÄ test_intervals.py    # Link, sync, unlink (mock API)
‚îú‚îÄ‚îÄ test_crypto.py       # Encrypt/decrypt roundtrip
‚îî‚îÄ‚îÄ test_fit_parser.py   # Parse sample FIT files
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `pytest` + `pytest-asyncio` + `httpx` (AsyncClient –¥–ª—è FastAPI)
- `pytest-cov` –¥–ª—è –æ—Ç—á—ë—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è
- `factory_boy` –∏–ª–∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `unittest.mock.AsyncMock` –¥–ª—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è Gemini –∏ Intervals API

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: Frontend-—Ç–µ—Å—Ç—ã

```
__tests__/
‚îú‚îÄ‚îÄ DashboardScreen.test.tsx
‚îú‚îÄ‚îÄ ChatScreen.test.tsx
‚îú‚îÄ‚îÄ LoginScreen.test.tsx
‚îú‚îÄ‚îÄ api/client.test.ts
‚îî‚îÄ‚îÄ storage/authStorage.test.ts
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- Jest + React Native Testing Library
- MSW (Mock Service Worker) –¥–ª—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è API

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: E2E-—Ç–µ—Å—Ç—ã

- Detox (React Native) –∏–ª–∏ Playwright (Web)
- –°—Ü–µ–Ω–∞—Ä–∏–∏: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –µ–¥—ã ‚Üí –∑–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—à–µ–Ω–∏—è

#### –¶–µ–ª–µ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª–µ–≤–æ–µ (6 –º–µ—Å) |
|---------|---------|-----------------|
| Unit —Ç–µ—Å—Ç—ã (backend) | ~5% | ‚â• 70% |
| API —Ç–µ—Å—Ç—ã (backend) | 0% | ‚â• 80% |
| Frontend —Ç–µ—Å—Ç—ã | 0% | ‚â• 50% |
| E2E —Ç–µ—Å—Ç—ã | 0% | ‚â• 30% –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π |
| CI/CD pipeline | ‚ùå –ù–µ—Ç | ‚úÖ GitHub Actions |

---

## 9. –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### 9.1 –ß–µ–∫–ª–∏—Å—Ç Production Readiness

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|-----------|----------|--------|-----------|
| **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞** | Docker Compose prod –∫–æ–Ω—Ñ–∏–≥ | ‚úÖ –ï—Å—Ç—å | ‚Äî |
| | HTTPS (Caddy + Let's Encrypt) | ‚úÖ –ï—Å—Ç—å | ‚Äî |
| | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ (unless-stopped) | ‚úÖ –ï—Å—Ç—å (backend) | ‚Äî |
| | Health checks | ‚úÖ –ï—Å—Ç—å (PostgreSQL, Backend) | ‚Äî |
| | Database backups | ‚ùå –ù–µ—Ç | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| | Log aggregation (Loki/ELK) | ‚ùå –ù–µ—Ç | üü° –í—ã—Å–æ–∫–æ |
| | Monitoring (Prometheus/Grafana) | ‚ùå –ù–µ—Ç | üü° –í—ã—Å–æ–∫–æ |
| | Alerting | ‚ùå –ù–µ—Ç | üü° –í—ã—Å–æ–∫–æ |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ –∫–æ–¥–µ | ‚úÖ –î–∞ | ‚Äî |
| | HTTPS everywhere | ‚úÖ –î–∞ | ‚Äî |
| | Rate limiting | ‚úÖ –ï—Å—Ç—å (200/–º–∏–Ω) | ‚Äî |
| | Login brute-force –∑–∞—â–∏—Ç–∞ | ‚ùå –ù–µ—Ç | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| | Secret rotation policy | ‚ùå –ù–µ—Ç | üü° –í—ã—Å–æ–∫–æ |
| **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** | Database replicas | ‚ùå –ù–µ—Ç | üü° –í—ã—Å–æ–∫–æ |
| | Auto-scaling | ‚ùå –ù–µ—Ç | üü¢ –ù–∏–∑–∫–æ (MVP) |
| | Graceful shutdown | ‚úÖ –ï—Å—Ç—å | ‚Äî |
| | Error reporting (Sentry) | ‚ùå –ù–µ—Ç | üü° –í—ã—Å–æ–∫–æ |
| **CI/CD** | Automated tests in CI | ‚ùå –ù–µ—Ç | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ |
| | Automated deployment | ‚ùå –ù–µ—Ç | üü° –í—ã—Å–æ–∫–æ |
| | Rollback strategy | ‚ùå –ù–µ—Ç | üü° –í—ã—Å–æ–∫–æ |
| **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** | API docs (OpenAPI/Swagger) | ‚úÖ –ê–≤—Ç–æ (FastAPI) | ‚Äî |
| | Deployment guide | ‚úÖ –ï—Å—Ç—å | ‚Äî |
| | Security policy | ‚úÖ –ï—Å—Ç—å (docs/SECURITY.md) | ‚Äî |
| | User documentation | ‚ùå –ù–µ—Ç | üü° –í—ã—Å–æ–∫–æ |

### 9.2 –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

| –ê—Å–ø–µ–∫—Ç | –û—Ü–µ–Ω–∫–∞ |
|--------|--------|
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | 8/10 ‚Äî –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 6/10 ‚Äî –±–∞–∑–æ–≤–∞—è –∑–∞—â–∏—Ç–∞ –µ—Å—Ç—å, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–µ–ª—ã |
| –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å | 5/10 ‚Äî –Ω–µ—Ç –±—ç–∫–∞–ø–æ–≤, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, alerting |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | 3/10 ‚Äî –ø–æ–∫—Ä—ã—Ç–æ –º–µ–Ω–µ–µ 5% |
| DevOps | 5/10 ‚Äî Docker –µ—Å—Ç—å, –Ω–æ –Ω–µ—Ç CI/CD |
| UI/UX | 6/10 ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –µ—Å—Ç—å –Ω–µ–¥–æ—Ä–∞–±–æ—Ç–∫–∏ |
| **–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞** | **5.5/10** |

### 9.3 –ë–ª–æ–∫–µ—Ä—ã –¥–ª—è production-—Ä–µ–ª–∏–∑–∞

1. **–ë—ç–∫–∞–ø—ã PostgreSQL** ‚Äî –Ω–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ –±—ç–∫–∞–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
2. **CI/CD –ø–∞–π–ø–ª–∞–π–Ω** ‚Äî –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–ø–ª–æ—è
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî –Ω–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
4. **Brute-force –∑–∞—â–∏—Ç–∞** ‚Äî –Ω–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è input** ‚Äî email –∏ password –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è

### 9.4 –ü–ª–∞–Ω –≤—ã—Ö–æ–¥–∞ –Ω–∞ production-ready

**–§–∞–∑–∞ 1 (1‚Äì2 –Ω–µ–¥–µ–ª–∏): –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–µ—Ä—ã**
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å pg_dump cron –¥–ª—è –±—ç–∫–∞–ø–æ–≤ PostgreSQL
- [ ] –î–æ–±–∞–≤–∏—Ç—å rate limit –Ω–∞ login (5/–º–∏–Ω per IP)
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è email (EmailStr) –∏ min password length (8)
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è ENCRYPTION_KEY –∏ SECRET_KEY —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –£–º–µ–Ω—å—à–∏—Ç—å access_token_expire –¥–æ 30 –º–∏–Ω

**–§–∞–∑–∞ 2 (2‚Äì4 –Ω–µ–¥–µ–ª–∏): –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**
- [ ] GitHub Actions CI: lint + tests
- [ ] Sentry –¥–ª—è error tracking
- [ ] API-—Ç–µ—Å—Ç—ã –¥–ª—è auth, nutrition, workouts (80% coverage)
- [ ] Docker health check –¥–ª—è frontend

**–§–∞–∑–∞ 3 (4‚Äì8 –Ω–µ–¥–µ–ª—å): Observability**
- [ ] Prometheus + Grafana –¥–ª—è –º–µ—Ç—Ä–∏–∫
- [ ] Loki –∏–ª–∏ ELK –¥–ª—è –ª–æ–≥–æ–≤
- [ ] Alerting (Slack/Telegram)
- [ ] Automated deployment (GitHub Actions ‚Üí SSH deploy –∏–ª–∏ Watchtower)

---

## 10. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 10.1 Backend

| # | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---|-------------|-----------|-----------|
| B-1 | –î–æ–±–∞–≤–∏—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—á–µ—Ä–µ–¥–µ–π | –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è |
| B-2 | –í—ã–Ω–µ—Å—Ç–∏ AI-–≤—ã–∑–æ–≤—ã –≤ background tasks (ARQ) | –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è |
| B-3 | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å streaming –æ—Ç–≤–µ—Ç–æ–≤ —á–∞—Ç–∞ (SSE) | –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è |
| B-4 | –î–æ–±–∞–≤–∏—Ç—å OpenAPI examples –¥–ª—è –≤—Å–µ—Ö endpoints | –ù–∏–∑–∫–∏–π | –ù–∏–∑–∫–∞—è |
| B-5 | –ü–µ—Ä–µ–π—Ç–∏ —Å `datetime.utcnow()` –Ω–∞ `datetime.now(timezone.utc)` | –ù–∏–∑–∫–∏–π | –ù–∏–∑–∫–∞—è |
| B-6 | –î–æ–±–∞–≤–∏—Ç—å structured logging (JSON —Ñ–æ—Ä–º–∞—Ç) | –°—Ä–µ–¥–Ω–∏–π | –ù–∏–∑–∫–∞—è |
| B-7 | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å webhook –æ—Ç Intervals.icu | –°—Ä–µ–¥–Ω–∏–π | –í—ã—Å–æ–∫–∞—è |
| B-8 | –î–æ–±–∞–≤–∏—Ç—å S3/MinIO –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π | –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è |
| B-9 | –ü–∞–≥–∏–Ω–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö list-endpoints | –°—Ä–µ–¥–Ω–∏–π | –ù–∏–∑–∫–∞—è |
| B-10 | –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è request_id (tracing) | –°—Ä–µ–¥–Ω–∏–π | –ù–∏–∑–∫–∞—è |

### 10.2 Frontend

| # | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---|-------------|-----------|-----------|
| F-1 | –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –≤ i18n) | –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è |
| F-2 | –î–æ–±–∞–≤–∏—Ç—å onboarding flow (welcome screens) | –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è |
| F-3 | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ (CTL/ATL/TSB, –ø–∏—Ç–∞–Ω–∏–µ, –≤–µ—Å) | –í—ã—Å–æ–∫–∏–π | –í—ã—Å–æ–∫–∞—è |
| F-4 | –î–æ–±–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Expo Notifications) | –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è |
| F-5 | –£–ª—É—á—à–∏—Ç—å accessibility (accessibilityLabel, –∫–æ–Ω—Ç—Ä–∞—Å—Ç) | –°—Ä–µ–¥–Ω–∏–π | –ù–∏–∑–∫–∞—è |
| F-6 | –î–æ–±–∞–≤–∏—Ç—å offline mode (queue API calls) | –ù–∏–∑–∫–∏–π | –í—ã—Å–æ–∫–∞—è |
| F-7 | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—ë–º–Ω—É—é/—Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É (theme toggle) | –ù–∏–∑–∫–∏–π | –°—Ä–µ–¥–Ω—è—è |
| F-8 | –î–æ–±–∞–≤–∏—Ç—å –≤–∏–±—Ä–∞—Ü–∏—é/haptic feedback –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö | –ù–∏–∑–∫–∏–π | –ù–∏–∑–∫–∞—è |
| F-9 | –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å swipe-to-delete –¥–ª—è –∑–∞–ø–∏—Å–µ–π –ø–∏—Ç–∞–Ω–∏—è | –°—Ä–µ–¥–Ω–∏–π | –ù–∏–∑–∫–∞—è |
| F-10 | –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ | –ù–∏–∑–∫–∏–π | –ù–∏–∑–∫–∞—è |

### 10.3 –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

| # | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|---|-------------|-----------|-----------|
| I-1 | GitHub Actions CI/CD pipeline | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –°—Ä–µ–¥–Ω—è—è |
| I-2 | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã PostgreSQL (pg_dump + S3) | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | –ù–∏–∑–∫–∞—è |
| I-3 | Sentry –¥–ª—è error tracking | –í—ã—Å–æ–∫–∏–π | –ù–∏–∑–∫–∞—è |
| I-4 | Prometheus + Grafana –º–µ—Ç—Ä–∏–∫–∏ | –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è |
| I-5 | Docker image tagging (semver) | –°—Ä–µ–¥–Ω–∏–π | –ù–∏–∑–∫–∞—è |
| I-6 | Staging environment | –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è |
| I-7 | Blue-green –∏–ª–∏ canary deployments | –ù–∏–∑–∫–∏–π | –í—ã—Å–æ–∫–∞—è |

---

## 11. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏

### 11.1 –ú–æ–¥–µ–ª–∏ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏

#### –ú–æ–¥–µ–ª—å 1: Freemium + –ü–æ–¥–ø–∏—Å–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è)

| –¢–∞—Ä–∏—Ñ | –¶–µ–Ω–∞ | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ |
|-------|------|-------------|
| **Free** | $0/–º–µ—Å | 3 –∞–Ω–∞–ª–∏–∑–∞ —Ñ–æ—Ç–æ/–¥–µ–Ω—å, –±–∞–∑–æ–≤—ã–π –¥–∞—à–±–æ—Ä–¥, —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, 1 –ø–æ—Ç–æ–∫ —á–∞—Ç–∞ |
| **Pro** | $9.99/–º–µ—Å ($99/–≥–æ–¥) | –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ —Ñ–æ—Ç–æ, AI-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, Intervals.icu –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, FIT-–∑–∞–≥—Ä—É–∑–∫–∞, –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —á–∞—Ç, –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| **Team/Coach** | $29.99/–º–µ—Å | –í—Å—ë –∏–∑ Pro + —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ 10 —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞–º–∏, –æ–±—â–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã, —ç–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤ |

**–ü–æ—á–µ–º—É —ç—Ç–∞ –º–æ–¥–µ–ª—å:**
- –ù–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ (Free) –ø—Ä–∏–≤–ª–µ–∫–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- AI-–∞–Ω–∞–ª–∏–∑ ‚Äî –∫–ª—é—á–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å, –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Pro
- –°—Ç–æ–∏–º–æ—Å—Ç—å Gemini API ($0.002‚Äì0.01 –∑–∞ –∑–∞–ø—Ä–æ—Å) –æ–ø—Ä–∞–≤–¥—ã–≤–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É
- –ì–æ–¥–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç LTV

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥–µ–ª—å `Subscription` –≤ –ë–î (plan, status, stripe_subscription_id, expires_at)
- Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–æ–≤ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ AI-–≤—ã–∑–æ–≤–æ–≤, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ threads)
- Stripe/Paddle –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- –ì—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–µ –ª–∏–º–∏—Ç—ã –≤ settings: `FREE_PHOTO_ANALYSES_PER_DAY=3`, `FREE_CHAT_THREADS=1`

#### –ú–æ–¥–µ–ª—å 2: Pay-per-Use (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è)

| –î–µ–π—Å—Ç–≤–∏–µ | –¶–µ–Ω–∞ |
|----------|------|
| AI-–∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ (—Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞) | $0.10 –∑–∞ —Ñ–æ—Ç–æ |
| –ó–∞–ø—É—Å–∫ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | $0.05 –∑–∞ –∑–∞–ø—É—Å–∫ |
| –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –∑–∞ –Ω–µ–¥–µ–ª—é | $0.50 |

**–ü–æ–¥—Ö–æ–¥–∏—Ç –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ Free-—Ç–∞—Ä–∏—Ñ—É:** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Ö–æ—á–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É, –Ω–æ –≥–æ—Ç–æ–≤ –ø–ª–∞—Ç–∏—Ç—å per-use.

#### –ú–æ–¥–µ–ª—å 3: B2B ‚Äî –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤ –∏ —Ñ–∏—Ç–Ω–µ—Å-–∫–ª—É–±–æ–≤

| –ü—Ä–æ–¥—É–∫—Ç | –¶–µ–Ω–∞ |
|---------|------|
| White-label —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ñ–∏—Ç–Ω–µ—Å-–∫–ª—É–±–∞ | $199‚Äì499/–º–µ—Å |
| API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | $0.02 –∑–∞ API-–≤—ã–∑–æ–≤ |
| –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ AI-—Ç—Ä–µ–Ω–µ—Ä–∞ | $1999 –µ–¥–∏–Ω–æ—Ä–∞–∑–æ–≤–æ |

### 11.2 –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

**–≠—Ç–∞–ø 1 ‚Äî –ó–∞–ø—É—Å–∫ (0‚Äì3 –º–µ—Å—è—Ü–∞):**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏) –¥–ª—è —Ä–∞–Ω–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ–±–∏—Ä–∞—Ç—å feedback, –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç
- –¶–µ–ª—å: 500+ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–≠—Ç–∞–ø 2 ‚Äî Soft paywall (3‚Äì6 –º–µ—Å—è—Ü–µ–≤):**
- –í–≤–µ—Å—Ç–∏ Free-—Ç–∞—Ä–∏—Ñ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- Pro –ø–æ $4.99/–º–µ—Å (–≤–≤–æ–¥–Ω–∞—è —Ü–µ–Ω–∞)
- –¶–µ–ª—å: 5% –∫–æ–Ω–≤–µ—Ä—Å–∏—è Free ‚Üí Pro

**–≠—Ç–∞–ø 3 ‚Äî –ü–æ–ª–Ω–∞—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è (6‚Äì12 –º–µ—Å—è—Ü–µ–≤):**
- –£–≤–µ–ª–∏—á–∏—Ç—å —Ü–µ–Ω—É Pro –¥–æ $9.99/–º–µ—Å
- –î–æ–±–∞–≤–∏—Ç—å Team/Coach —Ç–∞—Ä–∏—Ñ
- –î–æ–±–∞–≤–∏—Ç—å Pay-per-Use
- –¶–µ–ª—å: 10% –∫–æ–Ω–≤–µ—Ä—Å–∏—è, ARPU $3‚Äì5

### 11.3 –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|-----------------|
| MAU | Monthly Active Users | 1000+ —á–µ—Ä–µ–∑ 6 –º–µ—Å |
| DAU/MAU | Stickiness ratio | > 30% |
| Free ‚Üí Pro –∫–æ–Ω–≤–µ—Ä—Å–∏—è | % –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –Ω–∞ –ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ | > 5% |
| Churn rate | –ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –æ—Ç—Ç–æ–∫ | < 5% |
| ARPU | –°—Ä–µ–¥–Ω–∏–π –¥–æ—Ö–æ–¥ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | $3‚Äì5 |
| LTV | Lifetime Value | > $50 |
| CAC | Customer Acquisition Cost | < $10 |
| AI cost per user | –°—Ç–æ–∏–º–æ—Å—Ç—å Gemini API –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–º–µ—Å | < $1 |

### 11.4 –ö–∞–Ω–∞–ª—ã –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–∞—Ñ–∏–∫:**
   - SEO-–±–ª–æ–≥ –æ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–º –ø–∏—Ç–∞–Ω–∏–∏ –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö (tsspro.tech/blog)
   - YouTube-–≤–∏–¥–µ–æ —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π AI-–∞–Ω–∞–ª–∏–∑–∞
   - –ü–æ—Å—Ç—ã –≤ Strava/TrainingPeaks/Intervals.icu —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö

2. **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏:**
   - Instagram/TikTok: ¬´–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π –µ–¥—É ‚Äî —É–∑–Ω–∞–π –∫–∞–ª–æ—Ä–∏–∏ –∑–∞ —Å–µ–∫—É–Ω–¥—É¬ª
   - Telegram-–∫–∞–Ω–∞–ª —Å —Å–æ–≤–µ—Ç–∞–º–∏ –ø–æ –ø–∏—Ç–∞–Ω–∏—é –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º
   - Reddit (r/cycling, r/running, r/triathlon)

3. **–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞:**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–µ–Ω–µ—Ä—Å–∫–∏–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏
   - –ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ —Å —Ñ–∏—Ç–Ω–µ—Å-–±–ª–æ–≥–µ—Ä–∞–º–∏
   - –°–∫–∏–¥–∫–∏ —á–µ—Ä–µ–∑ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –∫–ª—É–±—ã

4. **–ü–ª–∞—Ç–Ω–æ–µ –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ:**
   - Google Ads –ø–æ –∑–∞–ø—Ä–æ—Å–∞–º "–∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å –ø–æ —Ñ–æ—Ç–æ", "AI —Ç—Ä–µ–Ω–µ—Ä"
   - Facebook/Instagram Ads –Ω–∞ —Ü–µ–ª–µ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é (—Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã 25‚Äì45)
   - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞: "–ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–≥–∞ ‚Üí 1 –º–µ—Å—è—Ü Pro –±–µ—Å–ø–ª–∞—Ç–Ω–æ"

### 11.5 –û—Ü–µ–Ω–∫–∞ unit economics

**–ü—Ä–∏ 1000 MAU, 7% –∫–æ–Ω–≤–µ—Ä—Å–∏—è (Pro $9.99/–º–µ—Å):**

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------------|----------|
| –ü–ª–∞—Ç—è—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | 70 |
| MRR (Monthly Recurring Revenue) | $699 |
| –°—Ç–æ–∏–º–æ—Å—Ç—å Gemini API (~$0.50/user/–º–µ—Å) | $500 |
| –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ (VPS) | $40‚Äì80 |
| –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ä–∂–∞ | ~15‚Äì20% |

**–ü—Ä–∏ 5000 MAU, 10% –∫–æ–Ω–≤–µ—Ä—Å–∏—è:**

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------------|----------|
| –ü–ª–∞—Ç—è—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | 500 |
| MRR | $4995 |
| –°—Ç–æ–∏–º–æ—Å—Ç—å Gemini API | $2500 |
| –°—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã | $200‚Äì400 |
| –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –º–∞—Ä–∂–∞ | ~40‚Äì45% |

### 11.6 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ—Ö–æ–¥–∞

1. **–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:** —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è (iHerb, MyProtein) —Å affiliate-—Å—Å—ã–ª–∫–∞–º–∏
2. **–ü—Ä–µ–º–∏—É–º AI-–º–æ–¥–µ–ª–∏:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã—Ö (–Ω–æ –¥–æ—Ä–æ–≥–∏—Ö) –º–æ–¥–µ–ª–µ–π –¥–ª—è Pro-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–î–∞–Ω–Ω—ã–µ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:** –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (–∞–Ω–æ–Ω–∏–º–Ω—ã–µ) —Ç—Ä–µ–Ω–¥—ã –ø–∏—Ç–∞–Ω–∏—è –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
4. **Marketplace —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤:** —Ç—Ä–µ–Ω–µ—Ä—ã –ø—Ä–æ–¥–∞—é—Ç –ø–ª–∞–Ω—ã —á–µ—Ä–µ–∑ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (–∫–æ–º–∏—Å—Å–∏—è 15‚Äì20%)
5. **–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ wellness-–ø—Ä–æ–≥—Ä–∞–º–º—ã:** B2B –ø—Ä–æ–¥–∞–∂–∞ –∫–æ–º–ø–∞–Ω–∏—è–º –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

---

## 12. –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ (Roadmap)

### Q1 2026 (—Ç–µ–∫—É—â–∏–π) ‚Äî –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è MVP

- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (BUG-1 —á–µ—Ä–µ–∑ BUG-7)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø—ã PostgreSQL
- [ ] GitHub Actions CI (lint + tests)
- [ ] –î–æ–±–∞–≤–∏—Ç—å API-—Ç–µ—Å—Ç—ã –¥–ª—è auth –∏ nutrition (‚â• 50% coverage)
- [ ] Rate limit –Ω–∞ login/register
- [ ] Unified i18n (–≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º)

### Q2 2026 ‚Äî –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞

- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ CTL/ATL/TSB –∏ –ø–∏—Ç–∞–Ω–∏—è
- [ ] Streaming –æ—Ç–≤–µ—Ç–æ–≤ —á–∞—Ç–∞ (SSE)
- [ ] Onboarding flow –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] Sentry –¥–ª—è error tracking
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)
- [ ] –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ ‚â• 70%

### Q3 2026 ‚Äî –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

- [ ] Stripe/Paddle –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] Free/Pro/Team —Ç–∞—Ä–∏—Ñ—ã
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ App Store –∏ Google Play (Expo EAS Build)
- [ ] –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
- [ ] SEO-–±–ª–æ–≥
- [ ] Wearables –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Apple Health, Google Fit)

### Q4 2026 ‚Äî –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] Multi-instance deployment (Redis + worker)
- [ ] B2B —Ç–∞—Ä–∏—Ñ –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤
- [ ] White-label —Ä–µ—à–µ–Ω–∏–µ
- [ ] Marketplace —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤
- [ ] –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (EN, DE, ES)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Smart Trainer MVP –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–∏–ª—å–Ω—É—é —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –æ—Å–Ω–æ–≤—É —Å –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ –±–æ–≥–∞—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é. –û—Å–Ω–æ–≤–Ω—ã–µ AI-—Ñ—É–Ω–∫—Ü–∏–∏ (–∞–Ω–∞–ª–∏–∑ –ø–∏—Ç–∞–Ω–∏—è, –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, —á–∞—Ç) —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Ä–µ–∞–ª—å–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ö–ª—é—á–µ–≤—ã–µ strengths:**
- –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ –æ—Ç AI –¥–æ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤ (Intervals.icu)
- –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: AI + —Å–ø–æ—Ä—Ç + –ø–∏—Ç–∞–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –≥–æ—Ç–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–ø–ª–æ—è

**–ö–ª—é—á–µ–≤—ã–µ areas for improvement:**
- –¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (—Å–µ–π—á–∞—Å ~5%, –Ω—É–∂–Ω–æ ‚â• 70%)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–≤–∞–ª–∏–¥–∞—Ü–∏—è input, brute-force –∑–∞—â–∏—Ç–∞, token TTL)
- Observability (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, alerting)
- UX polish (onboarding, –≥—Ä–∞—Ñ–∏–∫–∏, unified i18n)

**–û—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ production: 5.5/10** ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –≥–æ—Ç–æ–≤–æ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (early access / beta), –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–æ–∫ –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞.

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø—É—Ç—å:** 2‚Äì4 –Ω–µ–¥–µ–ª–∏ –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–§–∞–∑–∞ 1), –∑–∞—Ç–µ–º soft launch —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π –¥–ª—è —Å–±–æ—Ä–∞ feedback.

---

*–î–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã Smart Trainer MVP v0.1.0*
