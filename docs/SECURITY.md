# Безопасность репозитория

## Секреты и переменные окружения

- **Не коммитьте** файлы `.env`, `backend/.env`, `frontend/.env` и любые файлы с реальными ключами.
- Конфигурация задаётся через переменные окружения; примеры — в корневом `.env.example` и `backend/.env.example`.
- Перед первым пушем убедитесь, что в истории git нет коммитов с `.env` (файл должен быть в `.gitignore`).

## Если секреты могли попасть в репозиторий

Если `.env` или ключи когда-либо коммитились или репозиторий был публичным:

1. Смените все пароли и ключи (PostgreSQL, Gemini, Strava, `SECRET_KEY`, `ENCRYPTION_KEY`).
2. Создайте новое приложение Strava и обновите `STRAVA_CLIENT_ID` / `STRAVA_CLIENT_SECRET`.
3. Сгенерируйте новый `ENCRYPTION_KEY` (после смены старые зашифрованные токены в БД станут нечитаемыми).

## Скрипты

- `backend/scripts/debug_intervals_api.py` — для отладки Intervals.icu; передавайте `ATHLETE_ID` и `API_KEY` только через окружение, не храните их в коде.
